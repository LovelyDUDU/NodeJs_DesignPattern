# 55. 볼륨 & 바인딩 마운트: 요약

도커에서 데이터를 저장하는 메커니즘은 3가지가 있다.

`-v` 뒤에오는 값에 콜론(:)이 없으면 **익명 볼륨**,

`-v` 뒤에 콜론이 있고 콜론 앞에 이름을 지정하면 **명명 볼륨**,

`-v` 뒤에 콜론이 있고 path 나 $(pwd)가 있으면 **바인드 마운트** 이다.

</br>

## 1. Anonymous Volumes (익명 볼륨)
```bash
docker run -v /app/data ...
```
- 컨테이너에 연결된 볼륨이다.
- 컨테이너가 제거하면 함께 제거된다.
- 컨테이너 간에 데이터를 공유할 수 없다.
- 컨테이너에 이미 존재하는 특정 데이터를 잠그는데 유용하다.
- 특정 데이터가 다른 모듈에 의해 덮어쓰여지는 것을 방지하는데 유용하다. (ex, /node_modules)
- 특정 데이터를 로컬 파일 시스템에 아웃소싱할 수 있다(?)
- `/app/temp` 과 같은 용도로 사용해서 컨테이너가 제거될때 함께 제거되게 할 수 있다.


## 2. Named Volumes (명명 볼륨)
```bash
docker run -v data:/app/data ...
```
- Dockerfile에서 생성할 수 없다.
- 특정 컨테이너에 연결되어 있지 않다.
- 컨테이너를 종료하고 제거해도 남아있다.
- 명명 볼륨을 사용하면 여러 컨테이너 간에 데이터를 공유할 수 있다.
- 다수의 다양한 컨테이너에 동일하게 명명된 볼륨 하나를 마운트할 수 있다. 
- 컨테이너 좀료 및 제거 전반에 걸쳐 데이터를 사용하는데 사용할 수 있다.

## 3. Bind Mounts (바인드 마운트)
```bash
docker run -v /path/to/code:/app/data
```
- 하나의 특정 컨테이너에 국한되지 않는다.
- 다수의 컨테이너에 연결할 수 있으며, 컨테이너 종료 및 제거 후에도 유지된다.
- 바인드 마운트의 데이터를 지우려면 실제 로컬 머신에서 삭제해야한다.
- 컨테이너 간에 공유할 수 있다.
- 재시작을 거쳐 동일한 컨테이너 중 하나에서 재사용할 수 있다.
