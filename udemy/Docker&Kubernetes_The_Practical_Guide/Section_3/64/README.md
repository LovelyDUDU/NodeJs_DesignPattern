# 64. 모듈 요약

- 컨테이너는 데이터를 읽고 쓸 수 있다.
- 이미지는 read-only 이다.
- 컨테이너는 이미지 위에 read-write 레이어를 추가한다.
  
- 데이터를 저장하는 방법에는 크게 **볼륨**과 **바인드 마운트**가 있다.

- Volumes 는 데이터를 저장하는데 도움을 주고, Bind Mounts는 직접적인 컨테이너 상호작용에 도움을 준다.

- 컨테이너가 제거되면 컨테이너 내부에 기록한 데이터는 삭제된다. 이때 데이터가 삭제되지 않게 도와주는 것이 볼륨이다.

- 볼륨은 컨테이너가 실행되는 호스트 머신 상의 폴더이다.
- 볼륨은 도커에 의해 관리되며, 도커 컨테이너에 마운트 된다.
- 컨테이너 내부에 매핑된 경로와 호스트 머신에 자동적으로 생성된 폴더 사이에 연결이 존재한다.
- 컨테이너 내부의 매핑된 경로에 기록된 모든 내용은 호스트 머신에도 저장된다.
- 컨테이너가 제거된 경우에도 이 데이터는 유지된다. 컨테이너 내부에만 저장되지는 않는다.

- 볼륨에는 두 종류가 있다. 명명된(named) 볼륨은 컨테이너가 제거되어도 살아남는 반면, 익명(Anonymous) 볼륨은 컨테이너에 연결되며 컨테이너가 제거되면 함께 제거된다.
- 지속되어야 하는 영구 데이터를 저장할 때는 named volume이 유용하고, 임시 데이터를 저장하는데는 anonymous volume이 유용하다.
- anonymous volume은 바인드 마운트와 함께 유용하게 사용된다.

- 바인드 마운트를 사용하면 호스트 머신의 로컬 폴더와 컨테이너 내부의 폴더를 매핑할 수 있다.
- anonymous volume은 덮어쓰고 싶지 않은 컨테이너에 이미 존재하는 폴더를 실수로 덮어쓰지 않게 한다.
- 바인드 마운트와 명명된 볼륨은 비슷하지만 데이터가 미러링 되는 호스트 머신의 경로를 알고 있다. (바인드 마운트) 실제로 그 경로를 사용하여 데이터를 컨테이너에 전달하여 호스트 머신에서 데이터를 변경할 수 있어 컨테이너에서 항상  최신 데이터를 사용할 수 있다.

- 이미지와 컨테이너를 좀 더 동작적이고 구성 가능하게 만들 때는 빌드 인수(Build Arguments)와 Runtime ENVirontments 를 사용한다.
- 이미지를 빌드하거나 컨테이너를 실행할 때 외부에서 특정 데이터를 전달할 수 있다.