# 162. 이미지 & 컨테이너

## 컨테이너
- 코드와 그 코드를 실행하는데 필요한 환경을 포함하는 격리된 박스
- 모든 컨테이너는 일반적으로 하나의 태스크에 집중 (하나의 컨테이너에서 여러 일을 하지 않음)
- 공유 및 재생산이 쉬운 작고 가벼운 패키지
- 일종의 무상태. Stateless (+ Volumes)
- 컨테이너는 데이터를 쓸 수 있는데 컨테이너가 쓰는 데이터는 컨테이너가 종료될 때 마다 손실된다. 
- 볼륨을 사용하여 컨테이너의 특정 폴더를 로컬 호스트 머신의 폴더로 미러링하거나 복사할 수 있다. 
- 이미지 위의 얇은 부가 레이어이다.


## 이미지
- 이미지는 Dockerfile로 만들거나, Docker Hub에서 가져온다.
- 가져온 이미지는 다른 사람이 Dockerfile로 만든 것이며, Dockerfile에 설명된 대로 코드와 환경이 포함되어 있다.
- 하나의 동일 이미지에서 다중 컨테이너를 실행할 수 있다.
- 공유 가능하며, 이미지를 기반으로 다중 컨테이너를 만들 수 있다.
- 컨테이너에 대한 블루프린트 역할을 한다.
- 코드와 환경이 포함되어 있으나 읽기 전용이라 이미지 자체가 실행되지는 않는다.
- 이미지를 기반으로 컨테이너를 실행하고 그 컨테이너가 일부 데이터를 생성하는 경우 데이터는 이미지에 기록되지 않고 이미지 위의 얇은 레이어에 있는 컨테이너의 읽기/쓰기 파일 시스템에 기록된다.
- 이미지는 절대 변경되지 않으며 쉽게 빌드되며, 다른 사람들과 공유될 수 있다.
- 하나의 명령어만 변경된다면 기본적으로 모든 것을 다시 실행할 필요가 없으며 대신 이러한 레이어가 캐시되어 재사용된다.
- 이미지를 구축하는 것은 매우 효율적인 프로세스이며, 매우 빠르다.
- 레이어는 새로운 컨테이너를 실행할 때 마다 새로 생성된다.